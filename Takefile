install {
    foreach file [glob ./src/*] {
        set destination ~/.local/bin/[file rootname [file tail $file]]
        file copy -force $file $destination 
        file attributes $destination -permissions +x
    }
}

lint {
    foreach file [glob ./src/*] {
        puts [exec ./bin/nagelfar $file]
    }
}

test {
    set argv ""
    set argc 0
    source ./tests/all.tcl
}

ci {
    lint
    test
}

default {
    lint
    test
}
